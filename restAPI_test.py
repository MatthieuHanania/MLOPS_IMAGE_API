#importing librairies
import pandas as pd
import numpy as np
import requests
import json
import time

#A list of point to predict
a = [{"pixel1":0,"pixel2":0,"pixel3":0,"pixel4":0,"pixel5":0,"pixel6":0,"pixel7":0,"pixel8":9,"pixel9":8,"pixel10":0,"pixel11":0,"pixel12":34,"pixel13":29,"pixel14":7, "pixel15":0,"pixel16":11,"pixel17":24,"pixel18":0,"pixel19":0,"pixel20":3,"pixel21":3,"pixel22":1,"pixel23":0,"pixel24":1,"pixel25":1,"pixel26":0,"pixel27":0,"pixel28":0,"pixel29":0,"pixel30":0,"pixel31":4,"pixel32":0,"pixel33":0,"pixel34":1,"pixel35":0,"pixel36":0,"pixel37":0,"pixel38":0,"pixel39":0,"pixel40":44,"pixel41":88,"pixel42":99,"pixel43":122,"pixel44":123,"pixel45":80,"pixel46":0,"pixel47":0,"pixel48":0,"pixel49":0,"pixel50":1,"pixel51":1,"pixel52":1,"pixel53":0,"pixel54":0,"pixel55":0,"pixel56":0,"pixel57":0,"pixel58":0,"pixel59":1,"pixel60":2,"pixel61":0,"pixel62":0,"pixel63":0,"pixel64":3,"pixel65":46,"pixel66":174,"pixel67":249,"pixel68":67,"pixel69":0,"pixel70":94,"pixel71":210,"pixel72":61,"pixel73":14,"pixel74":212,"pixel75":157,"pixel76":37,"pixel77":0,"pixel78":0,"pixel79":0,"pixel80":0,"pixel81":1,"pixel82":0,"pixel83":0,"pixel84":0,"pixel85":0,"pixel86":0,"pixel87":2,"pixel88":2,"pixel89":0,"pixel90":23,"pixel91":168,"pixel92":206,"pixel93":242,"pixel94":239,"pixel95":238,"pixel96":214,"pixel97":125,"pixel98":61,"pixel99":113,"pixel100":74,"pixel101":133,"pixel102":236,"pixel103":238,"pixel104":236,"pixel105":203,"pixel106":184,"pixel107":20,"pixel108":0,"pixel109":1,"pixel110":0,"pixel111":0,"pixel112":0,"pixel113":0,"pixel114":0,"pixel115":1,"pixel116":0,"pixel117":0,"pixel118":175,"pixel119":245,"pixel120":223,"pixel121":207,"pixel122":205,"pixel123":206,"pixel124":216,"pixel125":255,"pixel126":237,"pixel127":251,"pixel128":232,"pixel129":223,"pixel130":212,"pixel131":200,"pixel132":205,"pixel133":216,"pixel134":249,"pixel135":173,"pixel136":0,"pixel137":0,"pixel138":2,"pixel139":0,"pixel140":0,"pixel141":0,"pixel142":0,"pixel143":7,"pixel144":0,"pixel145":53,"pixel146":225,"pixel147":201,"pixel148":197,"pixel149":200,"pixel150":201,"pixel151":206,"pixel152":199,"pixel153":197,"pixel154":185,"pixel155":194,"pixel156":204,"pixel157":232,"pixel158":226,"pixel159":249,"pixel160":219,"pixel161":194,"pixel162":205,"pixel163":229,"pixel164":33,"pixel165":0,"pixel166":1,"pixel167":0,"pixel168":0,"pixel169":0,"pixel170":0,"pixel171":1,"pixel172":0,"pixel173":133,"pixel174":223,"pixel175":208,"pixel176":192,"pixel177":195,"pixel178":233,"pixel179":226,"pixel180":216,"pixel181":191,"pixel182":210,"pixel183":188,"pixel184":236,"pixel185":186,"pixel186":0,"pixel187":50,"pixel188":234,"pixel189":207,"pixel190":208,"pixel191":231,"pixel192":133,"pixel193":0,"pixel194":0,"pixel195":0,"pixel196":0,"pixel197":0,"pixel198":0,"pixel199":0,"pixel200":0,"pixel201":216,"pixel202":218,"pixel203":216,"pixel204":194,"pixel205":229,"pixel206":172,"pixel207":64,"pixel208":219,"pixel209":201,"pixel210":200,"pixel211":200,"pixel212":247,"pixel213":68,"pixel214":72,"pixel215":54,"pixel216":165,"pixel217":237,"pixel218":212,"pixel219":219,"pixel220":226,"pixel221":0,"pixel222":0,"pixel223":0,"pixel224":0,"pixel225":0,"pixel226":0,"pixel227":0,"pixel228":50,"pixel229":221,"pixel230":207,"pixel231":220,"pixel232":211,"pixel233":207,"pixel234":165,"pixel235":138,"pixel236":205,"pixel237":192,"pixel238":191,"pixel239":190,"pixel240":232,"pixel241":119,"pixel242":113,"pixel243":67,"pixel244":173,"pixel245":237,"pixel246":217,"pixel247":208,"pixel248":221,"pixel249":29,"pixel250":0,"pixel251":0,"pixel252":0,"pixel253":0,"pixel254":0,"pixel255":0,"pixel256":131,"pixel257":216,"pixel258":200,"pixel259":219,"pixel260":207,"pixel261":212,"pixel262":231,"pixel263":226,"pixel264":193,"pixel265":214,"pixel266":224,"pixel267":206,"pixel268":203,"pixel269":230,"pixel270":122,"pixel271":112,"pixel272":234,"pixel273":224,"pixel274":214,"pixel275":204,"pixel276":224,"pixel277":123,"pixel278":0,"pixel279":0,"pixel280":0,"pixel281":0,"pixel282":0,"pixel283":0,"pixel284":195,"pixel285":212,"pixel286":204,"pixel287":211,"pixel288":203,"pixel289":205,"pixel290":200,"pixel291":184,"pixel292":213,"pixel293":162,"pixel294":138,"pixel295":193,"pixel296":207,"pixel297":203,"pixel298":231,"pixel299":245,"pixel300":208,"pixel301":220,"pixel302":211,"pixel303":203,"pixel304":219,"pixel305":179,"pixel306":0,"pixel307":0,"pixel308":0,"pixel309":0,"pixel310":0,"pixel311":8,"pixel312":185,"pixel313":191,"pixel314":218,"pixel315":233,"pixel316":219,"pixel317":201,"pixel318":221,"pixel319":213,"pixel320":246,"pixel321":114,"pixel322":127,"pixel323":80,"pixel324":129,"pixel325":232,"pixel326":198,"pixel327":218,"pixel328":207,"pixel329":236,"pixel330":227,"pixel331":220,"pixel332":216,"pixel333":172,"pixel334":21,"pixel335":0,"pixel336":0,"pixel337":0,"pixel338":0,"pixel339":21,"pixel340":4,"pixel341":5,"pixel342":64,"pixel343":160,"pixel344":224,"pixel345":224,"pixel346":144,"pixel347":187,"pixel348":197,"pixel349":211,"pixel350":207,"pixel351":186,"pixel352":192,"pixel353":210,"pixel354":212,"pixel355":218,"pixel356":225,"pixel357":236,"pixel358":177,"pixel359":106,"pixel360":56,"pixel361":28,"pixel362":1,"pixel363":0,"pixel364":0,"pixel365":0,"pixel366":0,"pixel367":1,"pixel368":1,"pixel369":0,"pixel370":2,"pixel371":0,"pixel372":116,"pixel373":252,"pixel374":96,"pixel375":120,"pixel376":51,"pixel377":73,"pixel378":70,"pixel379":123,"pixel380":79,"pixel381":76,"pixel382":64,"pixel383":162,"pixel384":252,"pixel385":118,"pixel386":1,"pixel387":3,"pixel388":0,"pixel389":4,"pixel390":2,"pixel391":0,"pixel392":0,"pixel393":0,"pixel394":0,"pixel395":0,"pixel396":0,"pixel397":0,"pixel398":0,"pixel399":0,"pixel400":115,"pixel401":226,"pixel402":145,"pixel403":170,"pixel404":155,"pixel405":165,"pixel406":161,"pixel407":159,"pixel408":125,"pixel409":175,"pixel410":140,"pixel411":174,"pixel412":236,"pixel413":95,"pixel414":0,"pixel415":2,"pixel416":2,"pixel417":0,"pixel418":0,"pixel419":0,"pixel420":0,"pixel421":0,"pixel422":0,"pixel423":0,"pixel424":0,"pixel425":1,"pixel426":2,"pixel427":0,"pixel428":131,"pixel429":225,"pixel430":204,"pixel431":217,"pixel432":221,"pixel433":220,"pixel434":217,"pixel435":224,"pixel436":231,"pixel437":226,"pixel438":237,"pixel439":203,"pixel440":237,"pixel441":102,"pixel442":0,"pixel443":4,"pixel444":2,"pixel445":1,"pixel446":2,"pixel447":0,"pixel448":0,"pixel449":0,"pixel450":0,"pixel451":1,"pixel452":1,"pixel453":0,"pixel454":3,"pixel455":0,"pixel456":135,"pixel457":223,"pixel458":201,"pixel459":199,"pixel460":194,"pixel461":198,"pixel462":195,"pixel463":198,"pixel464":192,"pixel465":203,"pixel466":199,"pixel467":207,"pixel468":231,"pixel469":112,"pixel470":0,"pixel471":4,"pixel472":0,"pixel473":0,"pixel474":0,"pixel475":0,"pixel476":0,"pixel477":0,"pixel478":0,"pixel479":1,"pixel480":1,"pixel481":0,"pixel482":1,"pixel483":0,"pixel484":134,"pixel485":223,"pixel486":199,"pixel487":206,"pixel488":199,"pixel489":201,"pixel490":200,"pixel491":203,"pixel492":206,"pixel493":207,"pixel494":210,"pixel495":206,"pixel496":227,"pixel497":119,"pixel498":0,"pixel499":3,"pixel500":0,"pixel501":0,"pixel502":1,"pixel503":0,"pixel504":0,"pixel505":0,"pixel506":0,"pixel507":0,"pixel508":0,"pixel509":0,"pixel510":1,"pixel511":0,"pixel512":139,"pixel513":223,"pixel514":198,"pixel515":204,"pixel516":200,"pixel517":201,"pixel518":200,"pixel519":201,"pixel520":204,"pixel521":206,"pixel522":208,"pixel523":206,"pixel524":229,"pixel525":128,"pixel526":0,"pixel527":4,"pixel528":0,"pixel529":0,"pixel530":0,"pixel531":0,"pixel532":0,"pixel533":0,"pixel534":0,"pixel535":0,"pixel536":0,"pixel537":0,"pixel538":1,"pixel539":0,"pixel540":145,"pixel541":223,"pixel542":195,"pixel543":205,"pixel544":201,"pixel545":201,"pixel546":200,"pixel547":204,"pixel548":204,"pixel549":206,"pixel550":211,"pixel551":205,"pixel552":230,"pixel553":139,"pixel554":0,"pixel555":2,"pixel556":0,"pixel557":0,"pixel558":0,"pixel559":0,"pixel560":0,"pixel561":0,"pixel562":0,"pixel563":1,"pixel564":0,"pixel565":1,"pixel566":0,"pixel567":0,"pixel568":157,"pixel569":221,"pixel570":194,"pixel571":204,"pixel572":204,"pixel573":201,"pixel574":201,"pixel575":203,"pixel576":205,"pixel577":208,"pixel578":211,"pixel579":204,"pixel580":230,"pixel581":148,"pixel582":0,"pixel583":2,"pixel584":0,"pixel585":1,"pixel586":1,"pixel587":0,"pixel588":0,"pixel589":0,"pixel590":0,"pixel591":1,"pixel592":1,"pixel593":1,"pixel594":0,"pixel595":0,"pixel596":166,"pixel597":220,"pixel598":194,"pixel599":203,"pixel600":203,"pixel601":205,"pixel602":203,"pixel603":203,"pixel604":206,"pixel605":207,"pixel606":212,"pixel607":204,"pixel608":230,"pixel609":157,"pixel610":0,"pixel611":2,"pixel612":1,"pixel613":1,"pixel614":1,"pixel615":0,"pixel616":0,"pixel617":0,"pixel618":0,"pixel619":0,"pixel620":0,"pixel621":0,"pixel622":0,"pixel623":0,"pixel624":171,"pixel625":221,"pixel626":195,"pixel627":206,"pixel628":200,"pixel629":199,"pixel630":203,"pixel631":203,"pixel632":205,"pixel633":206,"pixel634":207,"pixel635":204,"pixel636":226,"pixel637":181,"pixel638":0,"pixel639":0,"pixel640":0,"pixel641":0,"pixel642":0,"pixel643":0,"pixel644":0,"pixel645":0,"pixel646":0,"pixel647":0,"pixel648":0,"pixel649":1,"pixel650":0,"pixel651":0,"pixel652":165,"pixel653":224,"pixel654":197,"pixel655":201,"pixel656":208,"pixel657":199,"pixel658":204,"pixel659":205,"pixel660":207,"pixel661":210,"pixel662":213,"pixel663":207,"pixel664":229,"pixel665":187,"pixel666":0,"pixel667":1,"pixel668":2,"pixel669":0,"pixel670":0,"pixel671":0,"pixel672":0,"pixel673":0,"pixel674":0,"pixel675":0,"pixel676":0,"pixel677":0,"pixel678":0,"pixel679":0,"pixel680":128,"pixel681":201,"pixel682":203,"pixel683":201,"pixel684":207,"pixel685":211,"pixel686":203,"pixel687":205,"pixel688":206,"pixel689":210,"pixel690":213,"pixel691":205,"pixel692":225,"pixel693":191,"pixel694":0,"pixel695":0,"pixel696":2,"pixel697":0,"pixel698":0,"pixel699":0,"pixel700":0,"pixel701":0,"pixel702":0,"pixel703":0,"pixel704":0,"pixel705":1,"pixel706":1,"pixel707":0,"pixel708":141,"pixel709":201,"pixel710":191,"pixel711":188,"pixel712":194,"pixel713":187,"pixel714":187,"pixel715":191,"pixel716":193,"pixel717":195,"pixel718":199,"pixel719":199,"pixel720":218,"pixel721":161,"pixel722":0,"pixel723":0,"pixel724":0,"pixel725":0,"pixel726":0,"pixel727":0,"pixel728":0,"pixel729":0,"pixel730":0,"pixel731":0,"pixel732":0,"pixel733":0,"pixel734":1,"pixel735":0,"pixel736":212,"pixel737":240,"pixel738":213,"pixel739":239,"pixel740":233,"pixel741":239,"pixel742":231,"pixel743":232,"pixel744":236,"pixel745":242,"pixel746":245,"pixel747":224,"pixel748":245,"pixel749":234,"pixel750":0,"pixel751":3,"pixel752":0,"pixel753":0,"pixel754":0,"pixel755":0,"pixel756":0,"pixel757":0,"pixel758":0,"pixel759":0,"pixel760":0,"pixel761":0,"pixel762":0,"pixel763":0,"pixel764":37,"pixel765":69,"pixel766":94,"pixel767":123,"pixel768":127,"pixel769":138,"pixel770":138,"pixel771":142,"pixel772":145,"pixel773":135,"pixel774":125,"pixel775":103,"pixel776":87,"pixel777":56,"pixel778":0,"pixel779":0,"pixel780":0,"pixel781":0,"pixel782":0,"pixel783":0,"pixel784":0}]

#Normalize the list
list=[]
for elem in a:
    elem= {key:value/255 for key, value in elem.items()}
    list.append(elem)
    
#Test the request
URL = 'http://localhost:5000/classify'
r = requests.post(URL, json = list)
r.json()

pred = np.argmax(r.json()['values'][0])

if pred ==0:
    print("nice good pred !")
else:
    print("not good")
    assert False
